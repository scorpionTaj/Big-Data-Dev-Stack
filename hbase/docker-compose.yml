# =============================================================================
# APACHE HBASE (NoSQL Column Store)
# =============================================================================
# Start with: docker-compose up -d
# Stop with:  docker-compose down
# Master UI:  http://localhost:16010
#
# ⚠️  REQUIRES: Hadoop + Zookeeper (start them first!)
# =============================================================================

networks:
  bigdata-net:
    name: bigdata-net
    external: true

services:
  # ---------------------------------------------------------------------------
  # HBASE MASTER
  # ---------------------------------------------------------------------------
  hbase-master:
    image: harisekhon/hbase:2.1
    container_name: hbase-master
    ports: ["16010:16010"]
    environment:
      - HBASE_MANAGES_ZK=false
      - HBASE_CONF_hbase_rootdir=hdfs://namenode:9000/hbase
      - HBASE_CONF_hbase_zookeeper_quorum=zookeeper
    depends_on: [namenode, zookeeper]
    networks:
      - bigdata-net

  # ---------------------------------------------------------------------------
  # HBASE REGIONSERVER
  # ---------------------------------------------------------------------------
  hbase-regionserver:
    image: harisekhon/hbase:2.1
    container_name: hbase-regionserver
    environment:
      - HBASE_MANAGES_ZK=false
      - HBASE_CONF_hbase_rootdir=hdfs://namenode:9000/hbase
      - HBASE_CONF_hbase_zookeeper_quorum=zookeeper
    depends_on: [hbase-master]
    networks:
      - bigdata-net
