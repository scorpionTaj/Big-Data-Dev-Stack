# =============================================================================
# JUPYTER LAB (Interactive Notebook)
# =============================================================================
# Start with: docker-compose up -d
# Stop with:  docker-compose down
# UI:         http://localhost:8888
#
# ⚠️  REQUIRES: Spark (start spark first!)
# =============================================================================

networks:
  bigdata-net:
    name: bigdata-net
    external: true

services:
  # ---------------------------------------------------------------------------
  # JUPYTER LAB
  # ---------------------------------------------------------------------------
  jupyter:
    image: jupyter/pyspark-notebook:spark-3.5.0
    container_name: jupyter
    user: root
    restart: always
    ports: ["8888:8888"]
    environment:
      - SPARK_MASTER_URL=spark://spark-master:7077
      - JUPYTER_ENABLE_LAB=yes
      - GRANT_SUDO=yes
    volumes:
      - ./notebooks:/home/jovyan/work
      - ./dags:/home/jovyan/work/dags
    depends_on: [spark-master]
    networks:
      - bigdata-net
